module.exports=[1491,(a,b,c)=>{"use strict";b.exports=a.r(63331).vendored["react-ssr"].ReactServerDOMTurbopackClient},48220,a=>{"use strict";let b=(0,a.i(48137).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],48220)},67711,a=>{"use strict";var b=a.i(42e3),c=a.i(33332);let d={primary:"bg-primary/10 text-primary",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",danger:"bg-danger/10 text-danger"};function e({title:a,value:e,icon:f,isCurrency:g=!1,color:h}){return(0,b.jsxs)("div",{className:"bg-surface rounded-2xl p-6 shadow-sm border border-border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("span",{className:"text-text-muted text-lg",children:a}),(0,b.jsx)("div",{className:`p-3 rounded-xl ${d[h]}`,children:(0,b.jsx)(f,{size:28})})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-text",children:g?(0,c.formatCurrency)(e):e.toLocaleString("ar-SA")})]})}a.s(["StatCard",()=>e])},13855,a=>{"use strict";let b=(0,a.i(48137).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],13855)},18135,a=>{"use strict";let b=(0,a.i(48137).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],18135)},86927,21610,37776,a=>{"use strict";var b=a.i(48137);let c=(0,b.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>c],86927);var d=a.i(42e3),e=a.i(41771),f=a.i(75773),g=a.i(94752),h=a.i(18135);let i=(0,b.default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var j=a.i(30017),k=a.i(972),l=a.i(33332);function m({order:a,open:b,onOpenChange:c}){let[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)(!0);(0,e.useEffect)(()=>{b&&q()},[b,a.id]);let q=async()=>{p(!0);let b=(0,k.createClient)(),{data:c}=await b.from("order_items").select("*").eq("order_id",a.id);n(c||[]),p(!1)};return(0,d.jsx)(j.Dialog,{open:b,onOpenChange:c,children:(0,d.jsxs)(j.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)(j.DialogHeader,{children:(0,d.jsxs)(j.DialogTitle,{className:"text-2xl flex items-center gap-3 flex-wrap",children:["تفاصيل طلب #",a.order_number,(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(0,l.getOrderStatusColor)(a.status)}`,children:a.status}),(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(0,l.getPaymentStatusColor)(a.payment_status)}`,children:a.payment_status})]})}),(0,d.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,d.jsx)("div",{className:"bg-muted rounded-xl p-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(g.User,{size:16,className:"text-text-muted"}),(0,d.jsx)("span",{className:"text-text-muted",children:"العميل:"}),(0,d.jsx)("span",{className:"font-medium text-text",children:a.customer_name||"غير محدد"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(h.CreditCard,{size:16,className:"text-text-muted"}),(0,d.jsx)("span",{className:"text-text-muted",children:"حالة الدفع:"}),(0,d.jsx)("span",{className:"font-medium text-text",children:a.payment_status})]})]})}),(0,d.jsxs)("div",{className:"bg-muted rounded-xl p-4",children:[(0,d.jsxs)("p",{className:"text-text-muted mb-3",children:["تاريخ الطلب: ",(0,l.formatDate)(a.created_at)]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-text-muted",children:"المبلغ"}),(0,d.jsx)("p",{className:"text-xl font-bold text-text",children:(0,l.formatCurrency)(a.total_amount)})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-text-muted",children:"التكلفة"}),(0,d.jsx)("p",{className:"text-xl font-bold text-text-muted",children:(0,l.formatCurrency)(a.total_cost)})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-text-muted",children:"الربح"}),(0,d.jsx)("p",{className:"text-xl font-bold text-success",children:(0,l.formatCurrency)(a.total_profit)})]})]})]}),"مدفوع"!==a.payment_status&&(0,d.jsxs)("div",{className:"bg-gradient-to-r from-warning/10 to-danger/10 border border-warning/20 rounded-xl p-4",children:[(0,d.jsxs)("h4",{className:"font-bold text-text mb-3 flex items-center gap-2",children:[(0,d.jsx)(h.CreditCard,{size:18}),"تفاصيل الدفع"]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-text-muted",children:"الإجمالي"}),(0,d.jsx)("p",{className:"font-bold text-text",children:(0,l.formatCurrency)(a.total_amount)})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-text-muted",children:"المدفوع"}),(0,d.jsx)("p",{className:"font-bold text-success",children:(0,l.formatCurrency)(a.paid_amount)})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-text-muted",children:"المتبقي"}),(0,d.jsx)("p",{className:"font-bold text-danger",children:(0,l.formatCurrency)(a.remaining_amount)})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("div",{className:"w-full h-2 bg-border rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-gradient-to-r from-success to-primary transition-all",style:{width:`${Number(a.paid_amount)/Number(a.total_amount)*100}%`}})}),(0,d.jsxs)("p",{className:"text-xs text-text-muted text-center mt-1",children:[(Number(a.paid_amount)/Number(a.total_amount)*100).toFixed(1),"% مدفوع"]})]})]}),(0,d.jsx)("h3",{className:"font-bold text-lg text-text mb-3",children:"عناصر الطلب"}),o?(0,d.jsx)("p",{className:"text-center text-text-muted py-4",children:"جاري التحميل..."}):0===m.length?(0,d.jsx)("p",{className:"text-center text-text-muted py-4",children:"لا توجد عناصر"}):(0,d.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:m.map(a=>{let b=a.custom_price&&a.custom_price<a.unit_price;return(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-xl",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-lg bg-border flex items-center justify-center",children:(0,d.jsx)(f.Package,{size:16,className:"text-text-muted"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-text",children:a.product_name}),(0,d.jsxs)("p",{className:"text-sm text-text-muted",children:[a.quantity," × ",(0,l.formatCurrency)(a.custom_price||a.unit_price)]}),b&&(0,d.jsxs)("p",{className:"text-xs text-warning flex items-center gap-1",children:[(0,d.jsx)(i,{size:12}),"خصم: ",(0,l.formatCurrency)(a.discount_amount)]})]})]}),(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsx)("p",{className:"font-bold text-text",children:(0,l.formatCurrency)(a.total_price)}),(0,d.jsxs)("p",{className:"text-sm text-success",children:["ربح: ",(0,l.formatCurrency)(a.profit)]})]})]},a.id)})})]})]})})}a.s(["OrderDetailsDialog",()=>m],21610);var n=a.i(57491);function o({className:a,...b}){return(0,d.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...b})}a.s(["Textarea",()=>o],37776)}];

//# sourceMappingURL=Downloads_arabic-store-management%20%281%29_374a0fa8._.js.map