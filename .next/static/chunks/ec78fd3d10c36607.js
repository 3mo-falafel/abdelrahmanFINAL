(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3147,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},479,88379,e=>{"use strict";var t=e.i(34017),r=e.i(1894),a=e.i(651),n=e.i(46714),s=e.i(73285),l=e.i(1462),i=e.i(33064),o=e.i(45626),c=e.i(60398),d=e.i(69724),u=e.i(36385),p=e=>{var t;let a,s,{present:l,children:i}=e,o=function(e){var t,a;let[n,s]=r.useState(),l=r.useRef({}),i=r.useRef(e),o=r.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>a[e][t]??e,t));return r.useEffect(()=>{let e=f(l.current);o.current="mounted"===c?e:"none"},[c]),(0,u.useLayoutEffect)(()=>{let t=l.current,r=i.current;if(r!==e){let a=o.current,n=f(t);e?d("MOUNT"):"none"===n||t?.display==="none"?d("UNMOUNT"):r&&a!==n?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),(0,u.useLayoutEffect)(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,r=r=>{let a=f(l.current).includes(r.animationName);if(r.target===n&&a&&(d("ANIMATION_END"),!i.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},a=e=>{e.target===n&&(o.current=f(l.current))};return n.addEventListener("animationstart",a),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",a),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(e=>{e&&(l.current=getComputedStyle(e)),s(e)},[])}}(l),c="function"==typeof i?i({present:o.isPresent}):r.Children.only(i),d=(0,n.useComposedRefs)(o.ref,(t=c,(s=(a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||o.isPresent?r.cloneElement(c,{ref:d}):null};function f(e){return e?.animationName||"none"}p.displayName="Presence";var m=e.i(52097),h=e.i(214),x=e.i(7689),g=e.i(9564),b=e.i(26608),y="Dialog",[v,j]=(0,s.createContextScope)(y),[N,w]=v(y),_=e=>{let{__scopeDialog:a,children:n,open:s,defaultOpen:o,onOpenChange:c,modal:d=!0}=e,u=r.useRef(null),p=r.useRef(null),[f=!1,m]=(0,i.useControllableState)({prop:s,defaultProp:o,onChange:c});return(0,t.jsx)(N,{scope:a,triggerRef:u,contentRef:p,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:f,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(e=>!e),[m]),modal:d,children:n})};_.displayName=y;var C="DialogTrigger",k=r.forwardRef((e,r)=>{let{__scopeDialog:s,...l}=e,i=w(C,s),o=(0,n.useComposedRefs)(r,i.triggerRef);return(0,t.jsx)(m.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":W(i.open),...l,ref:o,onClick:(0,a.composeEventHandlers)(e.onClick,i.onOpenToggle)})});k.displayName=C;var D="DialogPortal",[R,P]=v(D,{forceMount:void 0}),O=e=>{let{__scopeDialog:a,forceMount:n,children:s,container:l}=e,i=w(D,a);return(0,t.jsx)(R,{scope:a,forceMount:n,children:r.Children.map(s,e=>(0,t.jsx)(p,{present:n||i.open,children:(0,t.jsx)(d.Portal,{asChild:!0,container:l,children:e})}))})};O.displayName=D;var S="DialogOverlay",I=r.forwardRef((e,r)=>{let a=P(S,e.__scopeDialog),{forceMount:n=a.forceMount,...s}=e,l=w(S,e.__scopeDialog);return l.modal?(0,t.jsx)(p,{present:n||l.open,children:(0,t.jsx)(E,{...s,ref:r})}):null});I.displayName=S;var E=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=w(S,a);return(0,t.jsx)(x.RemoveScroll,{as:b.Slot,allowPinchZoom:!0,shards:[s.contentRef],children:(0,t.jsx)(m.Primitive.div,{"data-state":W(s.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),M="DialogContent",T=r.forwardRef((e,r)=>{let a=P(M,e.__scopeDialog),{forceMount:n=a.forceMount,...s}=e,l=w(M,e.__scopeDialog);return(0,t.jsx)(p,{present:n||l.open,children:l.modal?(0,t.jsx)(L,{...s,ref:r}):(0,t.jsx)(F,{...s,ref:r})})});T.displayName=M;var L=r.forwardRef((e,s)=>{let l=w(M,e.__scopeDialog),i=r.useRef(null),o=(0,n.useComposedRefs)(s,l.contentRef,i);return r.useEffect(()=>{let e=i.current;if(e)return(0,g.hideOthers)(e)},[]),(0,t.jsx)(A,{...e,ref:o,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),F=r.forwardRef((e,a)=>{let n=w(M,e.__scopeDialog),s=r.useRef(!1),l=r.useRef(!1);return(0,t.jsx)(A,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||n.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),A=r.forwardRef((e,a)=>{let{__scopeDialog:s,trapFocus:l,onOpenAutoFocus:i,onCloseAutoFocus:d,...u}=e,p=w(M,s),f=r.useRef(null),m=(0,n.useComposedRefs)(a,f);return(0,h.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:i,onUnmountAutoFocus:d,children:(0,t.jsx)(o.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":W(p.open),...u,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Q,{titleId:p.titleId}),(0,t.jsx)(Z,{contentRef:f,descriptionId:p.descriptionId})]})]})}),q="DialogTitle",z=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=w(q,a);return(0,t.jsx)(m.Primitive.h2,{id:s.titleId,...n,ref:r})});z.displayName=q;var U="DialogDescription",$=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,s=w(U,a);return(0,t.jsx)(m.Primitive.p,{id:s.descriptionId,...n,ref:r})});$.displayName=U;var B="DialogClose",H=r.forwardRef((e,r)=>{let{__scopeDialog:n,...s}=e,l=w(B,n);return(0,t.jsx)(m.Primitive.button,{type:"button",...s,ref:r,onClick:(0,a.composeEventHandlers)(e.onClick,()=>l.onOpenChange(!1))})});function W(e){return e?"open":"closed"}H.displayName=B;var V="DialogTitleWarning",[K,X]=(0,s.createContext)(V,{contentName:M,titleName:q,docsSlug:"dialog"}),Q=({titleId:e})=>{let t=X(V),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},Z=({contentRef:e,descriptionId:t})=>{let a=X("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null};e.s(["Close",()=>H,"Content",()=>T,"Description",()=>$,"Overlay",()=>I,"Portal",()=>O,"Root",()=>_,"Title",()=>z,"Trigger",()=>k,"WarningProvider",()=>K,"createDialogScope",()=>j],88379);var G=e.i(97240),G=G,J=e.i(16307);function Y({...e}){return(0,t.jsx)(_,{"data-slot":"dialog",...e})}function ee({...e}){return(0,t.jsx)(k,{"data-slot":"dialog-trigger",...e})}function et({...e}){return(0,t.jsx)(O,{"data-slot":"dialog-portal",...e})}function er({className:e,...r}){return(0,t.jsx)(I,{"data-slot":"dialog-overlay",className:(0,J.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function ea({className:e,children:r,showCloseButton:a=!0,...n}){return(0,t.jsxs)(et,{"data-slot":"dialog-portal",children:[(0,t.jsx)(er,{}),(0,t.jsxs)(T,{"data-slot":"dialog-content",className:(0,J.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[r,a&&(0,t.jsxs)(H,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(G.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function en({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,J.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function es({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,J.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function el({className:e,...r}){return(0,t.jsx)(z,{"data-slot":"dialog-title",className:(0,J.cn)("text-lg leading-none font-semibold",e),...r})}function ei({className:e,...r}){return(0,t.jsx)($,{"data-slot":"dialog-description",className:(0,J.cn)("text-muted-foreground text-sm",e),...r})}e.s(["Dialog",()=>Y,"DialogContent",()=>ea,"DialogDescription",()=>ei,"DialogFooter",()=>es,"DialogHeader",()=>en,"DialogTitle",()=>el,"DialogTrigger",()=>ee],479)},80367,e=>{"use strict";var t=e.i(34017),r=e.i(1894),a=e.i(52097),n=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var s=e.i(16307);function l({className:e,...r}){return(0,t.jsx)(n,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>l],80367)},40984,e=>{"use strict";let t=(0,e.i(16101).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],40984)},78749,e=>{"use strict";var t=e.i(34017),r=e.i(16307);function a({className:e,type:a,...n}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}e.s(["Input",()=>a])},15940,e=>{"use strict";let t=(0,e.i(16101).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],15940)},75280,e=>{"use strict";let t=(0,e.i(16101).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],75280)},40449,e=>{"use strict";let t=(0,e.i(16101).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],40449)},50695,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return i}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,l(e));else t.set(r,l(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},38112,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return i},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(64920)._(e.r(50695)),l=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",i=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(s.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||l.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),d&&"?"!==d[0]&&(d="?"+d),n=n.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${n}${d}${i}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return i(e)}},70378,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(1894);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,a)),t&&(n.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},13086,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return h},ST:function(){return x},WEB_VITALS:function(){return s},execOnce:function(){return l},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return p},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return N}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&p(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let h="undefined"!=typeof performance,x=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},45658,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(13086),n=e.r(70590);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},48245,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},55692,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return g},useLinkStatus:function(){return y}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(64920),l=e.r(34017),i=s._(e.r(1894)),o=e.r(38112),c=e.r(2703),d=e.r(70378),u=e.r(13086),p=e.r(90007);e.r(3147);let f=e.r(35066),m=e.r(45658),h=e.r(25875);function x(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let a,n,s,[o,g]=(0,i.useOptimistic)(f.IDLE_LINK_STATUS),y=(0,i.useRef)(null),{href:v,as:j,children:N,prefetch:w=null,passHref:_,replace:C,shallow:k,scroll:D,onClick:R,onMouseEnter:P,onTouchStart:O,legacyBehavior:S=!1,onNavigate:I,ref:E,unstable_dynamicOnHover:M,...T}=t;a=N,S&&("string"==typeof a||"number"==typeof a)&&(a=(0,l.jsx)("a",{children:a}));let L=i.default.useContext(c.AppRouterContext),F=!1!==w,A=!1!==w?null===(r=w)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:q,as:z}=i.default.useMemo(()=>{let e=x(v);return{href:e,as:j?x(j):e}},[v,j]);if(S){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=i.default.Children.only(a)}let U=S?n&&"object"==typeof n&&n.ref:E,$=i.default.useCallback(e=>(null!==L&&(y.current=(0,f.mountLinkInstance)(e,q,L,A,F,g)),()=>{y.current&&((0,f.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,f.unmountPrefetchableInstance)(e)}),[F,q,L,A,g]),B={ref:(0,d.useMergedRef)($,U),onClick(t){S||"function"!=typeof R||R(t),S&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!L||t.defaultPrevented||function(t,r,a,n,s,l,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(71092);i.default.startTransition(()=>{u(a||r,s?"replace":"push",l??!0,n.current)})}}(t,q,z,y,C,D,I)},onMouseEnter(e){S||"function"!=typeof P||P(e),S&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),L&&F&&(0,f.onNavigationIntent)(e.currentTarget,!0===M)},onTouchStart:function(e){S||"function"!=typeof O||O(e),S&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),L&&F&&(0,f.onNavigationIntent)(e.currentTarget,!0===M)}};return(0,u.isAbsoluteUrl)(z)?B.href=z:S&&!_&&("a"!==n.type||"href"in n.props)||(B.href=(0,p.addBasePath)(z)),s=S?i.default.cloneElement(n,B):(0,l.jsx)("a",{...T,...B,children:a}),(0,l.jsx)(b.Provider,{value:o,children:s})}e.r(48245);let b=(0,i.createContext)(f.IDLE_LINK_STATUS),y=()=>(0,i.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},59269,e=>{"use strict";let t=(0,e.i(16101).default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],59269)},82482,e=>{"use strict";var t=e.i(34017),r=e.i(55692),a=e.i(81150),n=e.i(16101);let s=(0,n.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var l=e.i(78681),i=e.i(15940);let o=(0,n.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),c=(0,n.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var d=e.i(55013),u=e.i(13731),p=e.i(59269),f=e.i(75280),m=e.i(40449),h=e.i(1894);let x=[{href:"/",label:"الرئيسية",icon:s},{href:"/products",label:"المنتجات",icon:l.Package},{href:"/orders",label:"الطلبات",icon:i.ShoppingCart},{href:"/returns",label:"المرتجعات",icon:f.RotateCcw},{href:"/replacements",label:"المستبدلات",icon:m.RefreshCw},{href:"/debts",label:"الديون",icon:p.Wallet},{href:"/reports",label:"التقارير",icon:o}];function g(){let e=(0,a.usePathname)(),[n,s]=(0,h.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>s(!n),className:"fixed top-4 right-4 z-50 p-3 bg-primary text-white rounded-xl shadow-lg lg:hidden","aria-label":"فتح القائمة",children:n?(0,t.jsx)(d.X,{size:24}):(0,t.jsx)(c,{size:24})}),n&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>s(!1)}),(0,t.jsxs)("aside",{className:`fixed top-0 right-0 h-full w-72 bg-primary text-white z-40 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${n?"translate-x-0":"translate-x-full"} lg:static lg:transform-none flex flex-col`,children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-accent mb-2",children:"إدارة المتجر"}),(0,t.jsx)("p",{className:"text-white/70 text-sm",children:"نظام إدارة متجرك بسهولة"})]}),(0,t.jsx)("nav",{className:"px-4 space-y-2 flex-1 pb-24",children:x.map(a=>{let n=e===a.href,l=a.icon;return(0,t.jsxs)(r.default,{href:a.href,onClick:()=>s(!1),className:`flex items-center gap-4 px-4 py-4 rounded-xl text-lg font-medium transition-all duration-200 ${n?"bg-accent text-primary":"hover:bg-white/10 text-white/90"}`,children:[(0,t.jsx)(l,{size:24}),(0,t.jsx)("span",{children:a.label})]},a.href)})}),(0,t.jsx)("div",{className:"p-6 border-t border-white/20 mt-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-accent rounded-full",children:(0,t.jsx)(u.User,{size:24,className:"text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-white",children:"abdelrahman"}),(0,t.jsx)("p",{className:"text-white/70 text-sm",children:"صاحب المتجر"})]})]})})]})]})}e.s(["Sidebar",()=>g],82482)},94613,e=>{"use strict";let t=(0,e.i(16101).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],94613)},46242,85504,e=>{"use strict";var t=e.i(16101);let r=(0,t.default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>r],46242);let a=(0,t.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],85504)},48251,e=>{"use strict";let t=(0,e.i(16101).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],48251)},22737,e=>{"use strict";var t=e.i(34017),r=e.i(1894),a=e.i(40984),n=e.i(78681),s=e.i(94613),l=e.i(46242);let i=(0,e.i(16101).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var o=e.i(85504),c=e.i(55013),d=e.i(78749),u=e.i(87837),p=e.i(73285),f=e.i(46714),m=e.i(88379),h=e.i(651),x=e.i(26608),g="AlertDialog",[b,y]=(0,p.createContextScope)(g,[m.createDialogScope]),v=(0,m.createDialogScope)(),j=e=>{let{__scopeAlertDialog:r,...a}=e,n=v(r);return(0,t.jsx)(m.Root,{...n,...a,modal:!0})};j.displayName=g,r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=v(a);return(0,t.jsx)(m.Trigger,{...s,...n,ref:r})}).displayName="AlertDialogTrigger";var N=e=>{let{__scopeAlertDialog:r,...a}=e,n=v(r);return(0,t.jsx)(m.Portal,{...n,...a})};N.displayName="AlertDialogPortal";var w=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=v(a);return(0,t.jsx)(m.Overlay,{...s,...n,ref:r})});w.displayName="AlertDialogOverlay";var _="AlertDialogContent",[C,k]=b(_),D=r.forwardRef((e,a)=>{let{__scopeAlertDialog:n,children:s,...l}=e,i=v(n),o=r.useRef(null),c=(0,f.useComposedRefs)(a,o),d=r.useRef(null);return(0,t.jsx)(m.WarningProvider,{contentName:_,titleName:R,docsSlug:"alert-dialog",children:(0,t.jsx)(C,{scope:n,cancelRef:d,children:(0,t.jsxs)(m.Content,{role:"alertdialog",...i,...l,ref:c,onOpenAutoFocus:(0,h.composeEventHandlers)(l.onOpenAutoFocus,e=>{e.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(x.Slottable,{children:s}),(0,t.jsx)(T,{contentRef:o})]})})})});D.displayName=_;var R="AlertDialogTitle",P=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=v(a);return(0,t.jsx)(m.Title,{...s,...n,ref:r})});P.displayName=R;var O="AlertDialogDescription",S=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=v(a);return(0,t.jsx)(m.Description,{...s,...n,ref:r})});S.displayName=O;var I=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,s=v(a);return(0,t.jsx)(m.Close,{...s,...n,ref:r})});I.displayName="AlertDialogAction";var E="AlertDialogCancel",M=r.forwardRef((e,r)=>{let{__scopeAlertDialog:a,...n}=e,{cancelRef:s}=k(E,a),l=v(a),i=(0,f.useComposedRefs)(r,s);return(0,t.jsx)(m.Close,{...l,...n,ref:i})});M.displayName=E;var T=({contentRef:e})=>{let t=`\`${_}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_}\` by passing a \`${O}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},L=e.i(16307);function F({...e}){return(0,t.jsx)(j,{"data-slot":"alert-dialog",...e})}function A({...e}){return(0,t.jsx)(N,{"data-slot":"alert-dialog-portal",...e})}function q({className:e,...r}){return(0,t.jsx)(w,{"data-slot":"alert-dialog-overlay",className:(0,L.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function z({className:e,...r}){return(0,t.jsxs)(A,{children:[(0,t.jsx)(q,{}),(0,t.jsx)(D,{"data-slot":"alert-dialog-content",className:(0,L.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r})]})}function U({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,L.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function $({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,L.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function B({className:e,...r}){return(0,t.jsx)(P,{"data-slot":"alert-dialog-title",className:(0,L.cn)("text-lg font-semibold",e),...r})}function H({className:e,...r}){return(0,t.jsx)(S,{"data-slot":"alert-dialog-description",className:(0,L.cn)("text-muted-foreground text-sm",e),...r})}function W({className:e,...r}){return(0,t.jsx)(I,{className:(0,L.cn)((0,u.buttonVariants)(),e),...r})}function V({className:e,...r}){return(0,t.jsx)(M,{className:(0,L.cn)((0,u.buttonVariants)({variant:"outline"}),e),...r})}var K=e.i(48251),X=e.i(479),Q=e.i(80367),Z=e.i(7356),G=e.i(50410),J=e.i(81150);function Y({product:e,open:a,onOpenChange:n}){let[s,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(e.image_url),p=(0,J.useRouter)(),[f,m]=(0,r.useState)({name:e.name,code:e.code,purchase_price:e.purchase_price.toString(),selling_price:e.selling_price.toString(),quantity:e.quantity.toString(),low_stock_threshold:e.low_stock_threshold.toString(),image_url:e.image_url||""});(0,r.useEffect)(()=>{m({name:e.name,code:e.code,purchase_price:e.purchase_price.toString(),selling_price:e.selling_price.toString(),quantity:e.quantity.toString(),low_stock_threshold:e.low_stock_threshold.toString(),image_url:e.image_url||""}),o(e.image_url)},[e]);let h=async t=>{t.preventDefault(),l(!0);let r=(0,Z.createClient)(),{error:a}=await r.from("products").update({name:f.name,code:f.code,purchase_price:Number.parseFloat(f.purchase_price),selling_price:Number.parseFloat(f.selling_price),quantity:Number.parseInt(f.quantity),low_stock_threshold:Number.parseInt(f.low_stock_threshold),image_url:f.image_url||null,updated_at:new Date().toISOString()}).eq("id",e.id);a?"23505"===a.code?G.toast.error("هذا الكود مستخدم بالفعل"):G.toast.error("حدث خطأ في تحديث المنتج"):(G.toast.success("تم تحديث المنتج بنجاح"),n(!1),p.refresh()),l(!1)};return(0,t.jsx)(X.Dialog,{open:a,onOpenChange:n,children:(0,t.jsxs)(X.DialogContent,{className:"max-w-lg",children:[(0,t.jsx)(X.DialogHeader,{children:(0,t.jsx)(X.DialogTitle,{className:"text-2xl",children:"تعديل المنتج"})}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Label,{className:"text-base mb-2 block",children:"صورة المنتج"}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:i?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:i||"/placeholder.svg",alt:"معاينة",className:"w-20 h-20 rounded-xl object-cover"}),(0,t.jsx)("button",{type:"button",onClick:()=>{o(null),m(e=>({...e,image_url:""}))},className:"absolute -top-2 -left-2 bg-danger text-white rounded-full p-1",children:(0,t.jsx)(c.X,{size:14})})]}):(0,t.jsxs)("label",{className:"w-20 h-20 rounded-xl border-2 border-dashed border-border flex items-center justify-center cursor-pointer hover:border-primary transition-colors",children:[(0,t.jsx)(K.Upload,{className:"text-text-muted",size:24}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{let t=e.result;o(t),m(e=>({...e,image_url:t}))},e.readAsDataURL(t)}}})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Label,{htmlFor:"edit-name",className:"text-base mb-2 block",children:"اسم المنتج *"}),(0,t.jsx)(d.Input,{id:"edit-name",value:f.name,onChange:e=>m(t=>({...t,name:e.target.value})),className:"text-lg py-6 rounded-xl",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Label,{htmlFor:"edit-code",className:"text-base mb-2 block",children:"كود المنتج *"}),(0,t.jsx)(d.Input,{id:"edit-code",value:f.code,onChange:e=>m(t=>({...t,code:e.target.value})),className:"text-lg py-6 rounded-xl font-mono",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Label,{htmlFor:"edit-purchase",className:"text-base mb-2 block",children:"سعر الشراء *"}),(0,t.jsx)(d.Input,{id:"edit-purchase",type:"number",step:"0.01",min:"0",value:f.purchase_price,onChange:e=>m(t=>({...t,purchase_price:e.target.value})),className:"text-lg py-6 rounded-xl",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Label,{htmlFor:"edit-selling",className:"text-base mb-2 block",children:"سعر البيع *"}),(0,t.jsx)(d.Input,{id:"edit-selling",type:"number",step:"0.01",min:"0",value:f.selling_price,onChange:e=>m(t=>({...t,selling_price:e.target.value})),className:"text-lg py-6 rounded-xl",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Label,{htmlFor:"edit-quantity",className:"text-base mb-2 block",children:"الكمية *"}),(0,t.jsx)(d.Input,{id:"edit-quantity",type:"number",min:"0",value:f.quantity,onChange:e=>m(t=>({...t,quantity:e.target.value})),className:"text-lg py-6 rounded-xl",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(Q.Label,{htmlFor:"edit-low-stock",className:"text-base mb-2 block",children:"حد التنبيه"}),(0,t.jsx)(d.Input,{id:"edit-low-stock",type:"number",min:"0",value:f.low_stock_threshold,onChange:e=>m(t=>({...t,low_stock_threshold:e.target.value})),className:"text-lg py-6 rounded-xl"})]})]}),(0,t.jsx)(u.Button,{type:"submit",disabled:s,className:"w-full bg-primary hover:bg-primary-light text-white rounded-xl py-6 text-lg mt-6",children:s?"جاري الحفظ...":"حفظ التعديلات"})]})]})})}var ee=e.i(29684);function et({products:e}){let[p,f]=(0,r.useState)(""),[m,h]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),[b,y]=(0,r.useState)(null),v=(0,J.useRouter)(),j=e.filter(e=>{let t=p.toLowerCase().trim();return!t||e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)}),N=async(e,t)=>{let r=e.quantity+t;if(r<0)return;y(e.id);let a=(0,Z.createClient)(),{error:n}=await a.from("products").update({quantity:r,updated_at:new Date().toISOString()}).eq("id",e.id);n?G.toast.error("حدث خطأ في تحديث الكمية"):(G.toast.success("تم تحديث الكمية"),v.refresh()),y(null)},w=async()=>{if(!m)return;y(m.id);let e=(0,Z.createClient)(),{error:t}=await e.from("products").delete().eq("id",m.id);t?(console.error("Delete error:",t),G.toast.error(`حدث خطأ في حذف المنتج: ${t.message||"خطأ غير معروف"}`)):(G.toast.success("تم حذف المنتج بنجاح"),v.refresh()),h(null),y(null)};return(0,t.jsxs)("div",{className:"bg-surface rounded-2xl shadow-sm border border-border",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,t.jsxs)("div",{className:"relative max-w-lg",children:[(0,t.jsx)(a.Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted",size:20}),(0,t.jsx)(d.Input,{placeholder:"ابحث عن منتج بالاسم أو الكود أو الرقم التعريفي...",value:p,onChange:e=>f(e.target.value),className:"pr-10 pl-10 text-lg py-6 rounded-xl"}),p&&(0,t.jsx)("button",{onClick:()=>f(""),className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text transition-colors",children:(0,t.jsx)(c.X,{size:20})})]}),p&&(0,t.jsxs)("p",{className:"mt-2 text-sm text-text-muted",children:["تم العثور على ",j.length," منتج"]})]}),0===j.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)(n.Package,{className:"mx-auto text-text-muted mb-4",size:48}),(0,t.jsx)("p",{className:"text-text-muted text-lg",children:p?"لا توجد منتجات مطابقة للبحث":"لا توجد منتجات بعد"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-muted",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-right p-4 font-semibold text-text",children:"المنتج"}),(0,t.jsx)("th",{className:"text-right p-4 font-semibold text-text",children:"الكود"}),(0,t.jsx)("th",{className:"text-right p-4 font-semibold text-text",children:"سعر الشراء"}),(0,t.jsx)("th",{className:"text-right p-4 font-semibold text-text",children:"سعر البيع"}),(0,t.jsx)("th",{className:"text-right p-4 font-semibold text-text",children:"الربح"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-text",children:"الكمية"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-text",children:"الحالة"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-text",children:"إجراءات"})]})}),(0,t.jsx)("tbody",{children:j.map(e=>{let r=e.selling_price-e.purchase_price,a=(0,ee.getStockStatus)(e.quantity,e.low_stock_threshold),c=b===e.id;return(0,t.jsxs)("tr",{className:"border-t border-border hover:bg-muted/50 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.image_url?(0,t.jsx)("img",{src:e.image_url||"/placeholder.svg",alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}):(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center",children:(0,t.jsx)(n.Package,{size:20,className:"text-text-muted"})}),(0,t.jsx)("span",{className:"font-medium text-text",children:e.name})]})}),(0,t.jsx)("td",{className:"p-4 text-text-muted font-mono",children:e.code}),(0,t.jsx)("td",{className:"p-4 text-text",children:(0,ee.formatCurrency)(e.purchase_price)}),(0,t.jsx)("td",{className:"p-4 text-text font-semibold",children:(0,ee.formatCurrency)(e.selling_price)}),(0,t.jsx)("td",{className:"p-4 text-success font-semibold",children:(0,ee.formatCurrency)(r)}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(u.Button,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-xl bg-transparent",onClick:()=>N(e,-1),disabled:c||0===e.quantity,children:(0,t.jsx)(l.Minus,{size:18})}),(0,t.jsx)("span",{className:"w-12 text-center font-bold text-lg text-text",children:e.quantity}),(0,t.jsx)(u.Button,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-xl bg-transparent",onClick:()=>N(e,1),disabled:c,children:(0,t.jsx)(s.Plus,{size:18})})]})}),(0,t.jsx)("td",{className:"p-4 text-center",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(0,ee.getStockStatusColor)(a)}`,children:a})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl text-primary hover:bg-primary/10",onClick:()=>g(e),children:(0,t.jsx)(i,{size:18})}),(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl text-danger hover:bg-danger/10",onClick:()=>h(e),children:(0,t.jsx)(o.Trash2,{size:18})})]})})]},e.id)})})]})}),(0,t.jsx)(F,{open:!!m,onOpenChange:()=>h(null),children:(0,t.jsxs)(z,{children:[(0,t.jsxs)(U,{children:[(0,t.jsx)(B,{children:"هل أنت متأكد من حذف هذا المنتج؟"}),(0,t.jsxs)(H,{children:['سيتم حذف المنتج "',m?.name,'" نهائياً. هذا الإجراء لا يمكن التراجع عنه.']})]}),(0,t.jsxs)($,{className:"gap-2",children:[(0,t.jsx)(V,{className:"rounded-xl",children:"إلغاء"}),(0,t.jsx)(W,{onClick:w,className:"bg-danger hover:bg-danger/90 rounded-xl",children:"حذف"})]})]})}),x&&(0,t.jsx)(Y,{product:x,open:!!x,onOpenChange:()=>g(null)})]})}e.s(["ProductsTable",()=>et],22737)},63576,e=>{"use strict";var t=e.i(34017),r=e.i(1894),a=e.i(94613),n=e.i(48251),s=e.i(55013),l=e.i(87837),i=e.i(479),o=e.i(78749),c=e.i(80367),d=e.i(7356),u=e.i(50410),p=e.i(81150);function f(){let[e,f]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),b=(0,p.useRouter)(),[y,v]=(0,r.useState)({name:"",code:"",purchase_price:"",selling_price:"",quantity:"",low_stock_threshold:"5",image_url:""}),j=async e=>{e.preventDefault(),h(!0);let t=(0,d.createClient)(),{error:r}=await t.from("products").insert({name:y.name,code:y.code,purchase_price:Number.parseFloat(y.purchase_price),selling_price:Number.parseFloat(y.selling_price),quantity:Number.parseInt(y.quantity),low_stock_threshold:Number.parseInt(y.low_stock_threshold),image_url:y.image_url||null});r?"23505"===r.code?u.toast.error("هذا الكود مستخدم بالفعل"):u.toast.error("حدث خطأ في إضافة المنتج"):(u.toast.success("تمت إضافة المنتج بنجاح"),f(!1),v({name:"",code:"",purchase_price:"",selling_price:"",quantity:"",low_stock_threshold:"5",image_url:""}),g(null),b.refresh()),h(!1)};return(0,t.jsxs)(i.Dialog,{open:e,onOpenChange:f,children:[(0,t.jsx)(i.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(l.Button,{className:"bg-primary hover:bg-primary-light text-white rounded-xl px-6 py-6 text-lg gap-2",children:[(0,t.jsx)(a.Plus,{size:24}),"إضافة منتج"]})}),(0,t.jsxs)(i.DialogContent,{className:"max-w-lg",children:[(0,t.jsx)(i.DialogHeader,{children:(0,t.jsx)(i.DialogTitle,{className:"text-2xl",children:"إضافة منتج جديد"})}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-base mb-2 block",children:"صورة المنتج"}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:x?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:x||"/placeholder.svg",alt:"معاينة",className:"w-20 h-20 rounded-xl object-cover"}),(0,t.jsx)("button",{type:"button",onClick:()=>{g(null),v(e=>({...e,image_url:""}))},className:"absolute -top-2 -left-2 bg-danger text-white rounded-full p-1",children:(0,t.jsx)(s.X,{size:14})})]}):(0,t.jsxs)("label",{className:"w-20 h-20 rounded-xl border-2 border-dashed border-border flex items-center justify-center cursor-pointer hover:border-primary transition-colors",children:[(0,t.jsx)(n.Upload,{className:"text-text-muted",size:24}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{let t=e.result;g(t),v(e=>({...e,image_url:t}))},e.readAsDataURL(t)}}})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"name",className:"text-base mb-2 block",children:"اسم المنتج *"}),(0,t.jsx)(o.Input,{id:"name",value:y.name,onChange:e=>v(t=>({...t,name:e.target.value})),placeholder:"مثال: قهوة عربية",className:"text-lg py-6 rounded-xl",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"code",className:"text-base mb-2 block",children:"كود المنتج *"}),(0,t.jsx)(o.Input,{id:"code",value:y.code,onChange:e=>v(t=>({...t,code:e.target.value})),placeholder:"مثال: COF001",className:"text-lg py-6 rounded-xl font-mono",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"purchase_price",className:"text-base mb-2 block",children:"سعر الشراء *"}),(0,t.jsx)(o.Input,{id:"purchase_price",type:"number",step:"0.01",min:"0",value:y.purchase_price,onChange:e=>v(t=>({...t,purchase_price:e.target.value})),placeholder:"0.00",className:"text-lg py-6 rounded-xl",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"selling_price",className:"text-base mb-2 block",children:"سعر البيع *"}),(0,t.jsx)(o.Input,{id:"selling_price",type:"number",step:"0.01",min:"0",value:y.selling_price,onChange:e=>v(t=>({...t,selling_price:e.target.value})),placeholder:"0.00",className:"text-lg py-6 rounded-xl",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"quantity",className:"text-base mb-2 block",children:"الكمية *"}),(0,t.jsx)(o.Input,{id:"quantity",type:"number",min:"0",value:y.quantity,onChange:e=>v(t=>({...t,quantity:e.target.value})),placeholder:"0",className:"text-lg py-6 rounded-xl",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{htmlFor:"low_stock",className:"text-base mb-2 block",children:"حد التنبيه"}),(0,t.jsx)(o.Input,{id:"low_stock",type:"number",min:"0",value:y.low_stock_threshold,onChange:e=>v(t=>({...t,low_stock_threshold:e.target.value})),placeholder:"5",className:"text-lg py-6 rounded-xl"})]})]}),(0,t.jsx)(l.Button,{type:"submit",disabled:m,className:"w-full bg-primary hover:bg-primary-light text-white rounded-xl py-6 text-lg mt-6",children:m?"جاري الإضافة...":"إضافة المنتج"})]})]})]})}e.s(["AddProductDialog",()=>f])}]);